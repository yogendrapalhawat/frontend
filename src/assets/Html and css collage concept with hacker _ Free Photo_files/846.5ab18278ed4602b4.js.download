!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f242b52a-e116-4fe9-a3fa-2285c7287137",e._sentryDebugIdIdentifier="sentry-dbid-f242b52a-e116-4fe9-a3fa-2285c7287137")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{9217:function(e,t,r){"use strict";r.d(t,{Bx:function(){return i},LI:function(){return l},PS:function(){return o},pt:function(){return s},tu:function(){return a}}),r(6672);var n=r(22319),l=(0,n.c)({defaultClassName:"_1nit3sv0 $flex $flex-col sm:$flex-row $justify-center $items-center $gap-10 $flex-1 sm:$flex-none $z-0 $border-0 sm:$border $rounded border-surface-1 $min-w-40 $min-h-40 $transition-colors $bg-transparent hover:$bg-grayHeather/10 text-surface-foreground-0",variantClassNames:{withLabel:{true:"$px-0 sm:$px-20"}},defaultVariants:{withLabel:!1},compoundVariants:[]}),i="$flex $gap-10",s="$flex $gap-10 $flex-col",o=(0,n.c)({defaultClassName:"_1nit3sv2 $whitespace-normal $font-normal sm:$font-semibold $sprinkles-text-2xs sm:$sprinkles-text-sm $text-surface-foreground-0",variantClassNames:{alwaysVisible:{true:"$block",false:"$block sm:$hidden"}},defaultVariants:{alwaysVisible:!1},compoundVariants:[]}),a="$shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $rounded-md $overflow-hidden $w-300 $max-w-[100vw] $p-20 $flex $flex-col $gap-10 $bg-surface-0 dark:bg-surface-1"},67677:function(e,t,r){"use strict";r.d(t,{D:function(){return k}});var n=r(97458),l=r(23113),i=r(2200),s=r(19974),o=r(48681),a=r(52983),c=r(47152),u=r(86101),d=r(34854),f=r(770),m=r(9249),h=r(80712),p=r(10893),v=r(9217),x=r(26013),g=r(11031);let b=(0,a.forwardRef)((e,t)=>{let{isCollapsed:r,onClick:i,mode:s,tooltipProps:o={side:"top"},buttonClassName:a,labelClassName:c,showLabel:b=!0,oldStyle:w=!1}=e,{t:y}=(0,p.$G)("detailCommon"),j=(0,l.a)("lg"),$=(0,d.nD)(),C=y("saveToCollection"),_=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.T,{children:C}),(0,n.jsx)(f.J,{as:h.Z,size:"base"})]}),k=w?g.Mw:x.aD,I=(0,n.jsxs)("button",{className:r?x.tw:k,onClick:i,"data-cy":"add-to-collection-thumbnail",ref:t,children:[_,r&&(0,n.jsx)("span",{children:C})]});return("large"===s&&(I=(0,n.jsxs)("button",{className:null!=a?a:v.LI(),onClick:i,ref:t,children:[_,b&&(0,n.jsx)("span",{className:null!=c?c:v.PS(),children:C})]})),!j||r)?I:(0,n.jsx)(u.u,{...o,trigger:I,triggerAsChild:!0,hideOnLeaveHover:!0,container:$.current,children:C})});var w=r(78238),y=r(79187),j=r(88659);let $=(0,a.forwardRef)((e,t)=>{let{mode:r,tooltipProps:l,buttonClassName:i,showLabel:s,labelClassName:o,type:a,renderTrigger:u}=e,{onButtonOpenClick:d}=(0,j.r)(),f=(0,c.U)().isCollapsed;return u?u({onClick:d,ref:t}):(0,n.jsx)(b,{isCollapsed:f,onClick:d,mode:null!=r?r:"normal",tooltipProps:l,buttonClassName:i,showLabel:s,labelClassName:o,oldStyle:"icon"===a,ref:t})}),C=e=>{let{id:t,type:r,trigger:l}=e,{isOpen:i,handleOpenChange:s}=(0,j.r)();return(0,n.jsxs)(n.Fragment,{children:[l,(0,n.jsx)(o.u,{open:i,onOpenChange:s,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:(0,n.jsx)(w.L,{type:r,id:t})})]})},_=e=>{let{id:t,type:r,trigger:l,isMenuAction:o}=e,a=(0,i.n)(),{isOpen:c,handleOpenChange:u}=(0,j.r)();return(0,n.jsxs)(s.fC,{open:c,onOpenChange:u,children:[(0,n.jsx)(s.xz,{asChild:!0,children:l}),(0,n.jsx)(s.h_,{container:null==a?void 0:a.current,children:(0,n.jsx)(s.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>o&&e.preventDefault(),children:(0,n.jsx)(w.L,{type:r,id:t})})})]})},k=e=>{let{type:t,id:r,location:i,mode:s,tooltipProps:o,buttonClassName:a,showLabel:c,labelClassName:u,renderTrigger:d,withProvider:f=!0,isMenuAction:m}=e,h=(0,l.a)("smMax"),p=(0,n.jsx)($,{mode:s,tooltipProps:o,buttonClassName:a,showLabel:c,labelClassName:u,type:t,renderTrigger:d}),v=h?C:_;return f?(0,n.jsx)(y.u,{id:r,type:t,location:i,children:(0,n.jsx)(v,{id:r,type:t,trigger:p,isMenuAction:m})}):(0,n.jsx)(v,{id:r,type:t,trigger:p})}},1557:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});let n=(0,r(52983).createContext)({})},79187:function(e,t,r){"use strict";r.d(t,{u:function(){return I}});var n=r(97458),l=r(52983),i=r(23113),s=r(27793),o=r(91394),a=r(19170),c=r(45451);let u=()=>(0,l.useCallback)(e=>{let{collectionId:t,collectionName:r,fileId:n,location:l}=e;(0,c.sendGTMEvent)({collection_id:t,collection_name:r,event_name:"add_to_collection",event:"ga4event",file_id:n,location:l})},[]),d=()=>(0,l.useCallback)(e=>{let{location:t,fileId:r}=e;(0,c.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:r})},[]);var f=r(6418),m=r(63202);let h=async e=>{let{id:t,collectionId:r,resourceType:n}=e,l=new URLSearchParams;return l.append("collectionId",r.toString()),l.set("resourceType",n),await (0,m.c)("/api/user/resources/".concat(t,"/collections?").concat(l.toString()),"DELETE")},p=async e=>{let{id:t,collectionId:r,resourceType:n}=e;return await (0,m.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:r,resourceType:n})};var v=r(58058),x=r.n(v),g=r(10893);let b=()=>{let{t:e}=(0,g.$G)("detailCommon");return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-2 text-sm text-surface-foreground-1",children:[(0,n.jsx)("span",{className:"whitespace-nowrap text-sm font-semibold text-surface-foreground-1",children:e("savedSuccessfully")}),(0,n.jsx)(x(),{href:"/user/collections",legacyBehavior:!0,children:(0,n.jsx)("span",{className:"cursor-pointer whitespace-nowrap text-xs font-normal !text-surface-foreground-accent-0",children:e("seeMyCollections")})})]})},w=e=>{let{type:t,id:r,location:c}=e,[m,v]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),w=(0,f.gx)(),{openToast:y}=(0,a.x_)(),j=u(),$=(0,i.a)("smMax"),C=(0,o.d)(),{loginUrl:_,setLoginCookies:k}=(0,s.J)(),I=d(),N=(0,l.useCallback)(async(e,l)=>{try{v(!0),await p({id:r,collectionId:e,resourceType:t}),j({fileId:r,collectionId:e,collectionName:l,location:c}),y({message:(0,n.jsx)(b,{}),showIcon:!1,showCloseButton:!1,position:$?"bottom-center":"top-right"}),w()}catch(e){console.error(e),y()}finally{v(!1),$&&g(!1)}},[r,t,j,c,y,$,w,g]);return{isOpen:x,loading:m,setIsOpen:g,handleAddToCollection:N,handleRemoveFromCollection:(0,l.useCallback)(async e=>{try{v(!0),await h({id:r,collectionId:e,resourceType:t}),w()}catch(e){console.error(e),y()}finally{v(!1)}},[r,w,y,t]),onButtonOpenClick:()=>{if(!C){k(),window.location.href=_;return}w(),g(!0),I({location:c,fileId:r})},handleOpenChange:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(e)}}};var y=r(7616),j=r(94498),$=r(99);let C=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,y.Dv)(j.HQ);return{collections:e,nextPage:t}},_=()=>{let{collections:e,nextPage:t}=C(),[r,n]=(0,l.useState)([]),i=(0,y.b9)(j.GD),s=(0,l.useRef)();(0,l.useEffect)(()=>{(null==e?void 0:e.length)>0&&n(e.map($.V))},[e,t]);let o=null!==t,a=t=>{n((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map($.V))},c=async e=>{s.current&&clearTimeout(s.current),s.current=setTimeout(async()=>{i(e)},350)};return{isSearchByApi:o,searchCollections:r,handleSearch:e=>{o?c(e):a(e)}}};var k=r(1557);let I=e=>{let{children:t,id:r,type:i,location:s}=e,{handleAddToCollection:o,handleRemoveFromCollection:a,loading:c,isOpen:u,setIsOpen:d,onButtonOpenClick:f,handleOpenChange:m}=w({type:i,id:r,location:s}),{searchCollections:h,isSearchByApi:p,handleSearch:v}=_(),x=(0,l.useMemo)(()=>({id:r,type:i,loading:c,isOpen:u,searchCollections:h,isSearchByApi:p,setIsOpen:d,handleSearch:v,handleAddToCollection:o,handleRemoveFromCollection:a,onButtonOpenClick:f,handleOpenChange:m}),[o,a,v,r,u,p,c,h,d,f,m,i]);return(0,n.jsx)(k.U.Provider,{value:x,children:t})}},88659:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(52983),l=r(1557);let i=()=>(0,n.useContext)(l.U)},99:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});let n=e=>{var t,r;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection,preview:null===(r=e.previews[0])||void 0===r?void 0:r.url}}},38741:function(e,t,r){"use strict";r.r(t),r.d(t,{AddToCollection:function(){return n.D}});var n=r(67677)},74801:function(e,t,r){"use strict";r.d(t,{R:function(){return d}});var n=r(97458),l=r(23113),i=r(53344),s=r.n(i),o=r(52983),a=r(19186),c=r(71788),u=r(67651);let d=e=>{let{item:t,position:i,fromView:d,children:f,isModal:m,priority:h,uuid:p,resizeParameter:v,blockViewSimilar:x}=e,g=s()(()=>Promise.resolve().then(r.bind(r,19186)).then(e=>e.ActionsThumbnail),{loadableGenerated:{webpack:()=>[19186]},ssr:!1}),{id:b,name:w,author:y,type:j,preview:{url:$},premium:C,slug:_,isEditableInWepik:k,isEditableInMockup:I,isAIGenerated:N,url:R}=t,T="".concat((0,c.k)(C,j),"/").concat(_,"_").concat(b,".htm"),S=(0,o.useRef)(null),E=(0,l.a)("sm"),L=!(0,u.h)(y.id);return(0,n.jsx)(a.ImageThumbnail,{item:t,position:i,fromView:d,ref:S,isModal:m,dataCy:"resource-thumbnail",priority:h,uuid:p,resizeParameter:v,blockViewSimilar:x,children:E&&(0,n.jsx)(g,{id:b,name:w,author:y,media:$,url:T,description:w,isDownloadEnabled:L,thumbnailRef:S,width:t.preview.width,height:t.preview.height,isEditableInWepik:k,isEditableInMockup:I,premium:C,type:j,isAIGenerated:N,detailLink:R,fromView:d,children:f})})}},80719:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var n=r(63202);let l=e=>{let{page:t,resourceId:r,searchTerm:l,collectionIds:i,ownership:s}=e,o=i?i.join(","):void 0,a={page:"".concat(t),...r&&{resourceId:"".concat(r)},...l&&{"filter[term]":l},...o&&{"filter[ids]":o},...s&&{"filter[ownership]":s}},c="/api/user/collections?".concat(new URLSearchParams(a));return(0,n.c)(c,"GET")}},6418:function(e,t,r){"use strict";r.d(t,{lL:function(){return d},gx:function(){return f}});var n=r(78511),l=r(25288),i=r(7616),s=r(52983),o=r(80719),a=r(94498);let c=["collections","all"],u=e=>{let{page:t,searchTerm:r,resourceId:n}=e;return{queryKey:[...c,{page:t,resourceId:n,searchTerm:r}],queryFn:async()=>{let{data:e,success:l}=await (0,o.X)({page:t,resourceId:n,searchTerm:r});if(!l)throw Error(e);return e}}},d=e=>{let{page:t=1,resourceId:r}=e,l=(0,i.Dv)(a.GD);return(0,n.a)(u({page:t,searchTerm:l,resourceId:null!=r?r:null}))},f=()=>{let e=(0,l.NL)();return(0,s.useCallback)(()=>{e.invalidateQueries({queryKey:c})},[e])}},94498:function(e,t,r){"use strict";r.d(t,{GD:function(){return l},HQ:function(){return i},w0:function(){return s}});var n=r(24399);let l=(0,r(73139).rw)(null),i=(0,n.cn)({data:[],meta:{pagination:{nextPage:null,perPage:0,prevPage:null,currentPage:0}}}),s=(0,n.cn)([])},44932:function(e,t,r){"use strict";r.d(t,{D:function(){return l},Gs:function(){return i},Lq:function(){return u},d2:function(){return c},rQ:function(){return s},yr:function(){return a}});var n=r(24399);let l=(0,n.cn)(null),i=(0,n.cn)(null),s=(0,n.cn)(e=>t=>{var r;return(null!==(r=e(i))&&void 0!==r?r:{})[t]},(e,t,r,n)=>{var l;let s=null!==(l=e(i))&&void 0!==l?l:{};t(i,{...s,[r]:n})}),o=(0,n.cn)(null),a=(0,n.cn)(e=>t=>{var r;return(null!==(r=e(o))&&void 0!==r?r:{})[t]},(e,t,r,n)=>{var l;let i=null!==(l=e(o))&&void 0!==l?l:{};t(o,{...i,[r]:n})}),c=(0,n.cn)(null),u=(0,n.cn)(!1)},73527:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});var n=r(32950),l=r(10934);let i=["icon","video","font"],s=()=>{let e=(0,n.Jn)("type");return!!(0,l.i)()||!(e&&i.includes(e))}},61462:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(97458),l=r(40409);let i=e=>{let{children:t,...r}=e;return(0,n.jsx)(l.t.Provider,{value:r,children:t})}},37983:function(e,t,r){"use strict";r.r(t),r.d(t,{UserRecommendations:function(){return k}});var n=r(97458),l=r(23113),i=r(68147),s=r(60826),o=r(10893),a=r(52983),c=r(58750),u=r(81157),d=r(35576);let f=e=>{let{event:t,idUser:r,resources:n,walletIdParam:l}=e,i=n.map(e=>"".concat(e.idResource,"-").concat(e.type)).join("%20");return"send&event&".concat(t,"&user_id=").concat(r,"&items=").concat(i).concat(l)},m=e=>{let{resources:t,idUser:r,walletIdParam:n}=e;if(!r||!t)return;let l=f({event:"first-view-recommended",idUser:r,resources:t,walletIdParam:n});(0,d.OA)(l)},h=e=>{let{resources:t,idUser:r,walletIdParam:n}=e;if(!r||!t)return;let l=f({event:"click-recommended",idUser:r,resources:t,walletIdParam:n});(0,d.OA)(l)},p=e=>{let{resources:t,idUser:r,walletIdParam:n}=e;if(!r||!t)return;let l=f({event:"click-view-more",idUser:r,resources:t,walletIdParam:n});(0,d.OA)(l)};var v=r(7009),x=e=>{let{setHasToShowAll:t,hasToShowAll:r,items:l,maxItems:i,isMobile:s,idUser:c}=e,{t:d}=(0,o.$G)("home"),f=(0,a.useRef)(null),m=(0,v.J)(),h=d("home:recommendedButton"),x=l.length>i;return!r&&x&&s&&(0,n.jsx)("div",{className:"$flex $justify-center $mt-30",children:(0,n.jsx)(u.gg,{onClick:()=>{t(!0),p({resources:f.current,idUser:c,walletIdParam:m})},"aria-label":h,className:"$bg-grayEbony hover:$bg-grayOxford $rounded $gap-10 $border-white","data-testid":"button-more",children:h})})},g=r(78364),b=r(38741),w=r(74801),y=(e,t)=>{let[r,n]=(0,a.useState)(!1),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l.current=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!r&&(n(!0),e(),l.current&&l.current.disconnect())})},t);let i=l.current;return()=>{i&&i.disconnect()}},[e,t,r]),{observe:e=>{l.current&&e&&l.current.observe(e)}}},j=(e,t,r,n)=>{let l=(0,a.useRef)(null),i=(0,a.useRef)(null),s=(0,v.J)();return l.current=e.slice(0,t).map(e=>({idResource:e.id,type:e.type})),i.current=e.slice(t,r).map(e=>({idResource:e.id,type:e.type})),{itemsIdsShowing:l,onClickItem:()=>{h({resources:l.current,idUser:n,walletIdParam:s})}}},$=r(61462);r(47463);var C=e=>{let{items:t,idUser:r,hasToShowAll:l,maxItems:i,maxItemsOpen:s,divRef:o}=e,{itemsIdsShowing:c,onClickItem:u}=j(t,i,s,r),d=(0,v.J)(),{observe:f}=y(()=>m({resources:c.current,idUser:r,walletIdParam:d}));return(0,a.useEffect)(()=>{o.current&&f(o.current)},[f,o]),(0,n.jsx)($.b,{fromView:"user_recommendations_home",items:t,children:t.map(e=>(0,n.jsx)("div",{className:(0,g.W)({_1s5uvum0:l,_1s5uvum1:!l}),onClick:u,children:(0,n.jsx)(w.R,{item:e,isModal:!1,children:(0,n.jsx)(b.AddToCollection,{type:e.type,id:e.id,location:"thumbnail",tooltipProps:{side:"left"}})})},"thumbnail-".concat(e.id)))})};let _=e=>{let{items:t}=e,{t:r}=(0,o.$G)("home"),[u,d]=(0,a.useState)(!1),f=(0,a.useRef)(null),m=(0,i.I)(),h=(0,l.a)("xsMax");return(0,n.jsxs)("div",{className:"mx-auto mt-10 w-full max-w-screen-2xl px-5",ref:f,children:[(0,n.jsx)("h2",{className:"mb-7 text-left text-lg font-normal leading-snug text-surface-foreground-0",children:r("selectedContentForYou")}),(0,n.jsx)(s.e,{children:(0,n.jsx)(c.n,{vertical:"home_recommendations",children:(0,n.jsx)(C,{items:t,hasToShowAll:u,idUser:m,maxItems:12,maxItemsOpen:12,divRef:f})})}),(0,n.jsx)(x,{setHasToShowAll:d,hasToShowAll:u,items:t,maxItems:12,isMobile:h,idUser:m})]})},k=e=>{let{items:t}=e;return t.length?(0,n.jsx)(_,{items:t}):null}},39597:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var n=r(97458),l=r(52983),i=r(40197);let s=(0,r(57291).j)(["w-full rounded border border-form-border-0 bg-form-0 px-3 transition-colors","placeholder:text-form-field-foreground-0 text-form-foreground-1","hover:border-surface-border-1","focus:outline-none focus:border-primary-0 focus:ring-1 focus:ring-surface-border-1","disabled:opacity-50 disabled:cursor-not-allowed"],{variants:{size:{md:"h-10 text-sm",lg:"h-12 text-base"},variant:{default:"border-form-border-0 active:border-primary-0",error:"border-2 border-negative-500 dark:border-malaga-red-600"}},defaultVariants:{size:"md",variant:"default"}}),o=(0,l.forwardRef)((e,t)=>{let{variant:r,size:l,className:o,...a}=e;return(0,n.jsx)("input",{...a,ref:t,className:(0,i.m6)(s({variant:r,size:l}),o)})});o.displayName="Input"},46914:function(e,t,r){"use strict";var n=r(97458);t.Z=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,n.jsx)("path",{d:"M127 552.25a24.92 24.92 0 0 1-17.678-7.322l-101-101c-9.763-9.763-9.763-25.593 0-35.355 9.764-9.764 25.592-9.764 35.355 0l83.339 83.34 243.323-242.857c9.771-9.754 25.602-9.74 35.355.033 9.754 9.772 9.739 25.602-.033 35.355l-261 260.5A24.92 24.92 0 0 1 127 552.25"})})},80712:function(e,t,r){"use strict";var n=r(97458);t.Z=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,n.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,n.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},6672:function(){},47463:function(){}}]);